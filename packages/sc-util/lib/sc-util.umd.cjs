(function(o,a){typeof exports=="object"&&typeof module<"u"?a(exports):typeof define=="function"&&define.amd?define(["exports"],a):(o=typeof globalThis<"u"?globalThis:o||self,a(o["sc-util"]={}))})(this,function(o){"use strict";let a={};const h=[],A=e=>{h.push(e)};function U(e,t){if(process.env.NODE_ENV!=="production"&&!e&&console!==void 0){const n=h.reduce((i,r)=>r(i??"","warning"),t);n&&console.error(`Warning: ${n}`)}}function C(e,t){if(process.env.NODE_ENV!=="production"&&!e&&console!==void 0){const n=h.reduce((i,r)=>r(i??"","note"),t);n&&console.warn(`Note: ${n}`)}}function E(){a={}}function y(e,t,n){!t&&!a[n]&&(e(!1,n),a[n]=!0)}function l(e,t){y(U,e,t)}function M(e,t){y(C,e,t)}l.preMessage=A,l.resetWarned=E,l.noteOnce=M;function _(e,t,n=!1){const i=new Set;function r(c,u,f=1){const s=i.has(c);if(l(!s,"Warning: There may be circular references"),s)return!1;if(c===u)return!0;if(n&&f>1)return!1;i.add(c);const F=f+1;if(Array.isArray(c)){if(!Array.isArray(u)||c.length!==u.length)return!1;for(let d=0;d<c.length;d++)if(!r(c[d],u[d],F))return!1;return!0}if(c&&u&&typeof c=="object"&&typeof u=="object"){const d=Object.keys(c);return d.length!==Object.keys(u).length?!1:d.every(I=>r(c[I],u[I],F))}return!1}return r(e,t)}function S(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function v(e,t){if(!e)return!1;if(e.contains)return e.contains(t);let n=t;for(;n;){if(n===e)return!0;n=n.parentNode}return!1}const O="data-rc-order",H="rc-util-key",w=new Map;function T({mark:e}={}){return e?e.startsWith("data-")?e:`data-${e}`:H}function g(e){return e.attachTo?e.attachTo:document.querySelector("head")||document.body}function P(e){return e==="queue"?"prependQueue":e?"prepend":"append"}function N(e){return Array.from((w.get(e)||e).children).filter(t=>t.tagName==="STYLE")}function m(e,t={}){if(!S())return null;const{csp:n,prepend:i}=t,r=document.createElement("style");r.setAttribute(O,P(i)),n!=null&&n.nonce&&(r.nonce=n==null?void 0:n.nonce),r.innerHTML=e;const c=g(t),{firstChild:u}=c;if(i){if(i==="queue"){const f=N(c).filter(s=>["prepend","prependQueue"].includes(s.getAttribute(O)));if(f.length)return c.insertBefore(r,f[f.length-1].nextSibling),r}c.insertBefore(r,u)}else c.appendChild(r);return r}function j(e,t={}){const n=g(t);return N(n).find(i=>i.getAttribute(T(t))===e)}function $(e,t={}){const n=j(e,t);n&&g(t).removeChild(n)}function B(e,t){const n=w.get(e);if(!n||!v(document,n)){const i=m("",t),{parentNode:r}=i;w.set(e,r),e.removeChild(i)}}function K(){w.clear()}function Q(e,t,n={}){var u,f,s;const i=g(n);B(i,n);const r=j(t,n);if(r)return(u=n.csp)!=null&&u.nonce&&r.nonce!==((f=n.csp)==null?void 0:f.nonce)&&(r.nonce=(s=n.csp)==null?void 0:s.nonce),r.innerHTML!==e&&(r.innerHTML=e),r;const c=m(e,n);return c.setAttribute(T(n),t),c}let q=e=>+setTimeout(e,16),b=e=>clearTimeout(e);typeof window<"u"&&"requestAnimationFrame"in window&&(q=e=>window.requestAnimationFrame(e),b=e=>window.cancelAnimationFrame(e));let D=0;const p=new Map;function R(e){p.delete(e)}const W=(e,t=1)=>{D+=1;const n=D;function i(r){if(r===0)R(n),e();else{const c=q(()=>{i(r-1)});p.set(n,c)}}return i(t),n};W.cancel=e=>{const t=p.get(e);return R(t),b(t)};const L=e=>{if(S()&&window.document.documentElement){const t=Array.isArray(e)?e:[e],{documentElement:n}=window.document;return t.some(i=>i in n.style)}return!1},V=(e,t)=>{if(!L(e))return!1;const n=document.createElement("div"),i=n.style[e];return n.style[e]=t,n.style[e]!==i};function Y(e,t){return!Array.isArray(e)&&t!==void 0?V(e,t):L(e)}o.call=y,o.canUseDom=S,o.clearContainerCache=K,o.contains=v,o.injectCSS=m,o.isEqual=_,o.isStyleSupport=Y,o.note=C,o.noteOnce=M,o.preMessage=A,o.raf=W,o.removeCSS=$,o.resetWarned=E,o.updateCSS=Q,o.warning=l,o.warningOnce=l,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
